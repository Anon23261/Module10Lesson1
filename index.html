<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content="Professional JavaScript IDE for secure code development and testing">
    <meta name="keywords" content="JavaScript, IDE, Security, Code Editor, Development">
    <meta name="author" content="JavaScript Security Lab">
    <title>JavaScript Security Lab - Professional IDE</title>
    
    <!-- Core Styles -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- CodeMirror -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/monokai.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/hint/show-hint.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/foldgutter.min.css">
    
    <!-- Terminal -->
    <link rel="stylesheet" href="https://unpkg.com/xterm@4.19.0/css/xterm.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/microsoft/vscode/main/resources/linux/code.png">
</head>
<body>
    <div class="container">
        <canvas id="matrixBg" class="matrix-bg" width="100%" height="100%" data-will-read-frequently="true"></canvas>
        
        <!-- Menu Bar -->
        <nav class="menu-bar" role="navigation" aria-label="Main menu">
            <div class="menu-item" id="fileMenu" role="menuitem" aria-haspopup="true">
                <i class="fas fa-file"></i> File
                <div class="menu-dropdown" role="menu" aria-label="File menu">
                    <button class="menu-option" id="newFile" name="newFile" role="menuitem" aria-label="New file">
                        <i class="fas fa-plus" aria-hidden="true"></i> New File
                    </button>
                    <button class="menu-option" id="openFile" name="openFile" role="menuitem" aria-label="Open file">
                        <i class="fas fa-folder-open" aria-hidden="true"></i> Open
                    </button>
                    <button class="menu-option" id="saveFile" name="saveFile" role="menuitem" aria-label="Save file">
                        <i class="fas fa-save" aria-hidden="true"></i> Save
                    </button>
                </div>
            </div>
            <div class="menu-item" id="editMenu" role="menuitem" aria-haspopup="true">
                <i class="fas fa-edit"></i> Edit
                <div class="menu-dropdown" role="menu" aria-label="Edit menu">
                    <button class="menu-option" id="formatCode" name="formatCode" role="menuitem" aria-label="Format code">
                        <i class="fas fa-magic" aria-hidden="true"></i> Format Code
                    </button>
                    <button class="menu-option" id="findReplace" name="findReplace" role="menuitem" aria-label="Find and replace">
                        <i class="fas fa-search" aria-hidden="true"></i> Find/Replace
                    </button>
                </div>
            </div>
            <div class="menu-item" id="settingsMenu" role="menuitem" aria-haspopup="true">
                <i class="fas fa-cog"></i> Settings
                <div class="menu-dropdown" role="menu" aria-label="Settings menu">
                    <div class="menu-option" id="themeOption" name="themeOption">
                        <i class="fas fa-palette" aria-hidden="true"></i> Theme
                        <select id="syntaxTheme" name="syntaxTheme" role="combobox" aria-label="Select syntax theme">
                            <option value="monokai">Monokai</option>
                            <option value="dracula">Dracula</option>
                            <option value="material">Material</option>
                            <option value="github">GitHub</option>
                        </select>
                    </div>
                    <div class="menu-option" id="fontOption" name="fontOption">
                        <i class="fas fa-font" aria-hidden="true"></i> Font Size
                        <select id="fontSize" name="fontSize" role="combobox" aria-label="Select font size">
                            <option value="12">12px</option>
                            <option value="14" selected>14px</option>
                            <option value="16">16px</option>
                            <option value="18">18px</option>
                        </select>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main IDE Layout -->
        <div class="ide-layout">
            <!-- Left Sidebar -->
            <aside class="ide-sidebar" role="complementary" aria-label="Project explorer">
                <div class="sidebar-section">
                    <h3><i class="fas fa-folder"></i> Project Files</h3>
                    <div class="file-tree" role="tree" aria-label="File tree">
                        <button class="file-item active" id="indexHtml" name="indexHtml" role="treeitem" aria-selected="true">
                            <i class="fas fa-file-code" aria-hidden="true"></i> index.html
                        </button>
                        <button class="file-item" id="scriptJs" name="scriptJs" role="treeitem" aria-selected="false">
                            <i class="fas fa-code" aria-hidden="true"></i> script.js
                        </button>
                        <button class="file-item" id="styleCss" name="styleCss" role="treeitem" aria-selected="false">
                            <i class="fas fa-file-code" aria-hidden="true"></i> style.css
                        </button>
                    </div>
                </div>
                <div class="sidebar-section">
                    <h3><i class="fas fa-book"></i> Documentation</h3>
                    <div class="doc-list" role="list" aria-label="Documentation">
                        <button class="doc-item" id="jsBasics" name="jsBasics" role="listitem">JavaScript Basics</button>
                        <button class="doc-item" id="securityPractices" name="securityPractices" role="listitem">Security Best Practices</button>
                        <button class="doc-item" id="apiRef" name="apiRef" role="listitem">API Reference</button>
                        <button class="doc-item" id="debugGuide" name="debugGuide" role="listitem">Debugging Guide</button>
                    </div>
                </div>
            </aside>

            <!-- Main Editor Area -->
            <main class="ide-main" role="main">
                <div class="code-section">
                    <!-- Editor Controls -->
                    <div class="editor-controls" role="toolbar" aria-label="Editor controls">
                        <button id="runButton" name="runButton" class="primary-button" title="Run Code (Ctrl+Enter)" aria-label="Run code">
                            <i class="fas fa-play" aria-hidden="true"></i> Run
                        </button>
                        <button id="clearButton" name="clearButton" title="Clear Editor" aria-label="Clear editor">
                            <i class="fas fa-eraser" aria-hidden="true"></i> Clear
                        </button>
                        <button id="formatButton" name="formatButton" title="Format Code" aria-label="Format code">
                            <i class="fas fa-magic" aria-hidden="true"></i> Format
                        </button>
                        <button id="copyCode" name="copyCode" title="Copy Code" aria-label="Copy code">
                            <i class="fas fa-copy" aria-hidden="true"></i> Copy
                        </button>
                        <button id="downloadCode" name="downloadCode" title="Download Code" aria-label="Download code">
                            <i class="fas fa-download" aria-hidden="true"></i> Download
                        </button>
                    </div>

                    <!-- Code Editor -->
                    <div class="editor-container" role="application">
                        <form id="codeForm" name="codeForm">
                            <textarea id="codeEditor" name="codeEditor" autocomplete="off" spellcheck="false" aria-label="Code editor" placeholder="// Start coding here...">// JavaScript Security Lab - Professional IDE
// Write secure and efficient code with real-time analysis

// Example 1: Input Validation
function validateUserInput(input) {
    if (typeof input !== 'string') {
        throw new TypeError('Input must be a string');
    }
    return input.trim().replace(/[<>]/g, '');
}

// Example 2: Secure Object Creation
const createSecureObject = (data) => {
    return Object.freeze({
        ...data,
        timestamp: Date.now(),
        id: crypto.randomUUID()
    });
};

// Example 3: Async Error Handling
async function fetchSecureData(url) {
    try {
        const response = await fetch(url);
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        return await response.json();
    } catch (error) {
        console.error('Fetch error:', error);
        throw error;
    }
}

// Start coding below this line</textarea>
                        </form>
                    </div>

                    <!-- Bottom Panel -->
                    <div class="bottom-panel" role="complementary">
                        <div class="panel-tabs" role="tablist">
                            <button class="panel-tab active" id="terminalTab" name="terminalTab" role="tab" aria-selected="true" aria-controls="terminal">
                                <i class="fas fa-terminal" aria-hidden="true"></i> Terminal
                            </button>
                            <button class="panel-tab" id="outputTab" name="outputTab" role="tab" aria-selected="false" aria-controls="output">
                                <i class="fas fa-stream" aria-hidden="true"></i> Output
                            </button>
                            <button class="panel-tab" id="problemsTab" name="problemsTab" role="tab" aria-selected="false" aria-controls="problems">
                                <i class="fas fa-exclamation-triangle" aria-hidden="true"></i> Problems
                            </button>
                            <button class="panel-tab" id="debugTab" name="debugTab" role="tab" aria-selected="false" aria-controls="debug">
                                <i class="fas fa-bug" aria-hidden="true"></i> Debug
                            </button>
                        </div>
                        <div class="panel-content">
                            <div id="terminal" class="panel-section active" role="tabpanel" aria-labelledby="terminalTab"></div>
                            <div id="output" class="panel-section" role="tabpanel" aria-labelledby="outputTab"></div>
                            <div id="problems" class="panel-section" role="tabpanel" aria-labelledby="problemsTab"></div>
                            <div id="debug" class="panel-section" role="tabpanel" aria-labelledby="debugTab"></div>
                        </div>
                    </div>
                </div>
            </main>

            <!-- Right Panel -->
            <aside class="ide-panel" role="complementary">
                <div class="panel-section">
                    <h3><i class="fas fa-info-circle" aria-hidden="true"></i> Type Inspector</h3>
                    <div id="typeInspector" name="typeInspector" class="inspector-content" role="region" aria-label="Type inspector"></div>
                </div>
                <div class="panel-section">
                    <h3><i class="fas fa-eye" aria-hidden="true"></i> Variable Watch</h3>
                    <div id="variableWatch" name="variableWatch" class="watch-content" role="region" aria-label="Variable watch"></div>
                </div>
                <div class="panel-section">
                    <h3><i class="fas fa-history" aria-hidden="true"></i> Code History</h3>
                    <div id="codeHistory" name="codeHistory" class="history-content" role="region" aria-label="Code history"></div>
                </div>
            </aside>
        </div>

        <!-- Status Bar -->
        <footer class="status-bar" role="status">
            <div class="status-item">
                <i class="fas fa-code" aria-hidden="true"></i>
                <span id="cursorPosition" name="cursorPosition">Line: 1, Col: 1</span>
            </div>
            <div class="status-item">
                <i class="fas fa-file-alt" aria-hidden="true"></i>
                <span id="fileSize" name="fileSize">Size: 0 bytes</span>
            </div>
            <div class="status-item">
                <i class="fas fa-clock" aria-hidden="true"></i>
                <span id="executionTime" name="executionTime">Execution: 0ms</span>
            </div>
            <div class="status-item">
                <i class="fas fa-check-circle" aria-hidden="true"></i>
                <span id="syntaxStatus" name="syntaxStatus">Syntax: Valid</span>
            </div>
        </footer>
    </div>

    <!-- CodeMirror Core -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/javascript/javascript.min.js"></script>
    
    <!-- CodeMirror Addons -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/closebrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/matchbrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/foldcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/foldgutter.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/hint/show-hint.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/hint/javascript-hint.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/comment/comment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/selection/active-line.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/matchtags.min.js"></script>
    
    <!-- Code Analysis -->
    <script src="https://unpkg.com/prettier@2.8.1/standalone.js"></script>
    <script src="https://unpkg.com/prettier@2.8.1/parser-babel.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/acorn/8.7.0/acorn.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@eslint/js@8.56.0/dist/eslint.min.js"></script>
    
    <!-- Terminal -->
    <script src="https://unpkg.com/xterm@4.19.0/lib/xterm.js"></script>
    <script src="https://unpkg.com/xterm-addon-fit@0.5.0/lib/xterm-addon-fit.js"></script>
    <script src="https://unpkg.com/xterm-addon-web-links@0.4.0/lib/xterm-addon-web-links.js"></script>
    <script src="https://unpkg.com/xterm-addon-search@0.8.0/lib/xterm-addon-search.js"></script>
    
    <!-- Custom Scripts -->
    <script src="script.js"></script>
</body>
</html>
