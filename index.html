<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta http-equiv="Permissions-Policy" content="interest-cohort=(), attribution-reporting=(), run-ad-auction=(), join-ad-interest-group=(), compute-pressure=(), browsing-topics=()">
    <title>JavaScript Security Lab</title>
    
    <!-- Core Styles -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- CodeMirror -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/monokai.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/hint/show-hint.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/foldgutter.min.css">
    
    <!-- Terminal -->
    <link rel="stylesheet" href="https://unpkg.com/xterm@4.19.0/css/xterm.css">
</head>
<body>
    <div class="container">
        <div class="matrix-bg"></div>
        
        <!-- Menu Bar -->
        <div class="menu-bar">
            <div class="menu-item">
                <i class="fas fa-file"></i> File
                <div class="menu-dropdown">
                    <div class="menu-option" id="newFile" name="newFile"><i class="fas fa-plus"></i> New File</div>
                    <div class="menu-option" id="openFile" name="openFile"><i class="fas fa-folder-open"></i> Open</div>
                    <div class="menu-option" id="saveFile" name="saveFile"><i class="fas fa-save"></i> Save</div>
                </div>
            </div>
            <div class="menu-item">
                <i class="fas fa-edit"></i> Edit
                <div class="menu-dropdown">
                    <div class="menu-option" id="formatCode" name="formatCode"><i class="fas fa-magic"></i> Format Code</div>
                    <div class="menu-option" id="findReplace" name="findReplace"><i class="fas fa-search"></i> Find/Replace</div>
                </div>
            </div>
            <div class="menu-item">
                <i class="fas fa-cog"></i> Settings
                <div class="menu-dropdown">
                    <div class="menu-option">
                        <i class="fas fa-palette"></i> Theme
                        <select id="syntaxTheme" name="syntaxTheme">
                            <option value="monokai">Monokai</option>
                            <option value="dracula">Dracula</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main IDE Layout -->
        <div class="ide-layout">
            <!-- Left Sidebar -->
            <div class="ide-sidebar">
                <div class="sidebar-section">
                    <h3><i class="fas fa-folder"></i> Project Files</h3>
                    <div class="file-tree">
                        <div class="file-item active" id="projectFiles" name="projectFiles"><i class="fas fa-file-code"></i> index.html</div>
                        <div class="file-item" id="scriptJs" name="scriptJs"><i class="fas fa-code"></i> script.js</div>
                        <div class="file-item" id="styleCss" name="styleCss"><i class="fas fa-file-code"></i> style.css</div>
                    </div>
                </div>
                <div class="sidebar-section">
                    <h3><i class="fas fa-book"></i> Documentation</h3>
                    <div class="doc-list">
                        <div class="doc-item" id="javascriptBasics" name="javascriptBasics">JavaScript Basics</div>
                        <div class="doc-item" id="securityBestPractices" name="securityBestPractices">Security Best Practices</div>
                        <div class="doc-item" id="apiReference" name="apiReference">API Reference</div>
                    </div>
                </div>
            </div>

            <!-- Main Editor Area -->
            <div class="ide-main">
                <div class="code-section">
                    <!-- Editor Controls -->
                    <div class="editor-controls">
                        <button id="runButton" name="runButton" class="primary-button" title="Run Code (Ctrl+Enter)">
                            <i class="fas fa-play"></i> Run
                        </button>
                        <button id="clearButton" name="clearButton" title="Clear Editor">
                            <i class="fas fa-eraser"></i> Clear
                        </button>
                        <button id="formatButton" name="formatButton" title="Format Code">
                            <i class="fas fa-magic"></i> Format
                        </button>
                        <button id="copyCode" name="copyCode" title="Copy Code">
                            <i class="fas fa-copy"></i> Copy
                        </button>
                    </div>

                    <!-- Code Editor -->
                    <div class="editor-container">
                        <textarea id="codeEditor" name="codeEditor" autocomplete="off">// JavaScript Security Lab
// Try out different code examples and explore security concepts!

// Example 1: String Manipulation
let userInput = "Hello, <script>alert('XSS')</script>";
let sanitized = userInput.replace(/<[^>]*>/g, '');
console.log('Sanitized:', sanitized);

// Example 2: Input Validation
function validateNumber(input) {
    if (typeof input !== 'number' || isNaN(input)) {
        throw new Error('Invalid number input');
    }
    return input;
}

// Example 3: Secure Object
const safeObject = Object.freeze({
    key: 'value',
    nested: Object.freeze({ secure: true })
});

// Try your own code below:</textarea>
                    </div>

                    <!-- Bottom Panel -->
                    <div class="bottom-panel">
                        <div class="panel-tabs">
                            <div class="panel-tab active" data-panel="terminal" id="terminalTab" name="terminalTab">
                                <i class="fas fa-terminal"></i> Terminal
                            </div>
                            <div class="panel-tab" data-panel="output" id="outputTab" name="outputTab">
                                <i class="fas fa-stream"></i> Output
                            </div>
                            <div class="panel-tab" data-panel="problems" id="problemsTab" name="problemsTab">
                                <i class="fas fa-exclamation-triangle"></i> Problems
                            </div>
                        </div>
                        <div class="panel-content">
                            <div id="terminal" class="panel-section active"></div>
                            <div id="output" class="panel-section"></div>
                            <div id="problems" class="panel-section"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Panel -->
            <div class="ide-panel">
                <div class="panel-section">
                    <h3><i class="fas fa-info-circle"></i> Type Inspector</h3>
                    <div id="typeInspector" class="inspector-content"></div>
                </div>
                <div class="panel-section">
                    <h3><i class="fas fa-eye"></i> Variable Watch</h3>
                    <div id="variableWatch" class="watch-content"></div>
                </div>
            </div>
        </div>

        <!-- Status Bar -->
        <div class="status-bar">
            <div class="status-item">
                <i class="fas fa-code"></i>
                <span id="cursorPosition" name="cursorPosition">Line: 1, Col: 1</span>
            </div>
            <div class="status-item">
                <i class="fas fa-file-alt"></i>
                <span id="fileSize" name="fileSize">Size: 0 bytes</span>
            </div>
            <div class="status-item">
                <i class="fas fa-clock"></i>
                <span id="executionTime" name="executionTime">Execution: 0ms</span>
            </div>
        </div>
    </div>

    <!-- CodeMirror Core -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/javascript/javascript.min.js"></script>
    
    <!-- CodeMirror Addons -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/closebrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/matchbrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/foldcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/foldgutter.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/hint/show-hint.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/hint/javascript-hint.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/comment/comment.min.js"></script>
    
    <!-- Code Analysis -->
    <script src="https://unpkg.com/prettier@2.8.1/standalone.js"></script>
    <script src="https://unpkg.com/prettier@2.8.1/parser-babel.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/acorn/8.7.0/acorn.min.js"></script>
    
    <!-- Terminal -->
    <script src="https://unpkg.com/xterm@4.19.0/lib/xterm.js"></script>
    <script src="https://unpkg.com/xterm-addon-fit@0.5.0/lib/xterm-addon-fit.js"></script>
    
    <!-- Custom Scripts -->
    <script src="script.js"></script>
</body>
</html>
